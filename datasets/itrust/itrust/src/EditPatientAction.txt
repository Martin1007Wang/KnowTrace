edit patient action patient base action  patient validator validator  patient validator patient dao patient dao personnel dao personnel dao logged in mid email util emailutil edit patient action dao factory factory logged in mid string pid string i trust exception  super factory pid string this patient dao  factory get patient dao this personnel dao  factory get personnel dao this logged in mid  logged in mid emailutil  email util factory  update information patient bean p i trust exception form validation exception  p set mid pid validator validate p patient dao edit patient p logged in mid emailutil send email make email  patient bean get patient db exception  patient dao get patient this get pid  email make email db exception email email  email list patient bean reps  patient dao get representing pid patient bean pb  patient dao get patient pid list string to addrs  array list string to addrs add pb get email patient bean r reps  to addrs add r get email  email set from no reply itrust com email set to list to addrs email set subject string format patient information updated email set body dear   pb get full name  n t your patient record information has been updated   please login to i trust to see who has viewed your records email  edit message filter string filter i trust exception form validation exception  patient bean b  this get patient b set message filter filter this update information b  has history db exception  patient dao has history this get pid  list patient history bean get history db exception  patient dao get patient history this get pid  string get employee name long mid db exception i trust exception  personnel dao get name mid  