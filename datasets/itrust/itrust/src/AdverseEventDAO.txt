adverse event dao  dao factory factory adverse event bean loader ae loader adverse event dao dao factory factory  this factory  factory this ae loader  adverse event bean loader  list adverse event bean get reports for long mid db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from adverse events where patient mid   ps set long 1 mid result set rs  ps execute query list adverse event bean ae list  this ae loader load list rs ae list  catch sql exception e e print stack trace db exception e  finally db util close connection conn ps   add report adverse event bean ae bean hcpmid db exception  connection conn  null prepared statement ps  null try conn  factory get connection ps  conn prepare statement insert into adverse events patient mid pres immu code comment prescriber status   values       ps set string 1 ae bean get mid ps set string 2 ae bean get drug ps set string 3 ae bean get code ps set string 4 ae bean get description ps set long 5 hcpmid ps set string 6 active ps execute update  catch sql exception e e print stack trace db exception e   db util close connection conn ps   get hcpmid int id db exception connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from adverse events where id ps set int 1 id result set rs  ps execute query hcp mid  0 if rs next  hcp mid  rs get long prescriber  hcp mid  catch sql exception e  e print stack trace db exception e   db util close connection conn ps   adverse event bean get report int id db exception connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from adverse events where id ps set int 1 id result set rs  ps execute query list adverse event bean ae list  ae loader load list rs ae list get 0  catch sql exception e  e print stack trace db exception e   db util close connection conn ps   remove report int id db exception connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement update adverse events set status   where id   string removed  removed ps set string 1 removed ps set int 2 id ps execute update a  db util get last insert conn a  catch sql exception e e print stack trace db exception e   db util close connection conn ps   list adverse event bean get unremoved adverse events by code string code db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from adverseevents where code and status ps set string 1 code ps set string 2 active result set rs rs  ps execute query ae loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   string get name for code string code db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select pres immu from adverseevents where code ps set string 1 code result set rs rs  ps execute query if rs next  rs get string pres immu  name not found  sql exception e  e print stack trace db exception e   db util close connection conn ps   list adverse event bean get perscriptions string start string end parse exception db exception connection conn  null prepared statement ps  null try simple date format fmt  simple date format mm dd yyy date beginning  fmt parse start date ending  fmt parse end conn  factory get connection ps  conn prepare statement select  from adverse events nd codes where adverse events time logged   and adverse events time logged   and nd codes code adverse events code order by adverse events code adverse events time logged desc ps set timestamp 1 timestamp beginning get time ps set timestamp 2 timestamp ending get time  1000 l  60 l  60  24 l result set rs  ps execute query list adverse event bean ae list  ae loader load list rs ae list  catch sql exception e e print stack trace db exception e   db util close connection conn ps   list adverse event bean get immunizations string start string end parse exception db exception connection conn  null prepared statement ps  null  simple date format fmt  simple date format mm dd yyy date beginning  fmt parse start date ending  fmt parse end conn  factory get connection ps  conn prepare statement select  from adverse events cpt codes where adverse events time logged   and adverse events time logged   and cpt codes code adverse events code order by adverse events code adverse events time logged desc ps set timestamp 1 timestamp beginning get time ps set timestamp 2 timestamp ending get time  1000 l  60 l  60  24 l result set rs  ps execute query list adverse event bean ae list  ae loader load list rs ae list  catch sql exception e e print stack trace db exception e   db util close connection conn ps   