hospitals dao  dao factory factory hospital bean loader hospital loader  hospital bean loader hospitals dao dao factory factory  this factory  factory  list hospital bean get all hospitals db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from hospitals order by hospital name result set rs  ps execute query hospital loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   hospital bean get hospital string id db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from hospitals where hospital id   ps set string 1 id result set rs  ps execute query rs next hospital loader load single rs null  sql exception e  e print stack trace db exception e   db util close connection conn ps   add hospital hospital bean hosp db exception i trust exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement insert into hospitals hospital id hospital name   values  ps set string 1 hosp get hospital id ps set string 2 hosp get hospital name 1  ps execute update  sql exception e  e print stack trace 1062  e get error code i trust exception error hospital already exists db exception e   db util close connection conn ps   update hospital hospital bean hosp db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement update hospitals set hospital name     where hospital id   ps set string 1 hosp get hospital name ps set string 2 hosp get hospital id ps execute update  sql exception e  e print stack trace db exception e   db util close connection conn ps   assign hospital long hcp id string hospital id db exception i trust exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement insert into hcp assigned hos hcpid hos id values  ps set long 1 hcp id ps set string 2 hospital id 1  ps execute update  sql exception e  1062  e get error code i trust exception hcp   hcp id   already assigned to hospital   hospital id e print stack trace db exception e   db util close connection conn ps   remove hospital assignment long hcp id string hospital id db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement delete from hcp assigned hos where hcpid   and hos id   ps set long 1 hcp id ps set string 2 hospital id 1  ps execute update  sql exception e  e print stack trace db exception e   db util close connection conn ps   remove all hospital assignments from long hcp id db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement delete from hcp assigned hos where hcpid   ps set long 1 hcp id ps execute update  sql exception e  e print stack trace db exception e   db util close connection conn ps   check lt has hospital long hcp id db exception connection conn  null prepared statement ps  null try conn  factory get connection ps  conn prepare statement select  from hcp assigned hos where hcpid   ps set long 1 hcp id result set rs  ps execute query rs next true  false  sql exception e  e print stack trace db exception e   db util close connection conn ps   