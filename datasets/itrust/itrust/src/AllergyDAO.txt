allergy dao  dao factory factory allergy bean loader allergy bean loader  allergy bean loader allergy dao dao factory factory  this factory  factory  list allergy bean get allergies long pid db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from allergies where patient id order by first found desc ps set long 1 pid result set rs  ps execute query allergy bean loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   add allergy long pid string description db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement insert into allergies patient id description values  ps set long 1 pid ps set string 2 description ps execute update  sql exception e  e print stack trace db exception e   db util close connection conn ps   