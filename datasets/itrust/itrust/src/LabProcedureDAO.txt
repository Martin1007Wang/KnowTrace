lab procedure dao  dao factory factory lab procedure bean loader lab procedure loader lab procedure dao dao factory factory  this factory  factory lab procedure loader  lab procedure bean loader  list lab procedure bean get lab procedures for patient long id db exception  connection conn  null prepared statement ps  null  id  0 l sql exception patient mid cannot be null conn  factory get connection ps  conn prepare statement select  from lab procedure where patient mid   and rights   order by updated date desc ps set long 1 id ps set string 2 lab procedure bean allow result set rs  ps execute query lab procedure loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   list lab procedure bean get lab procedures for patient ov long ovid db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from lab procedure where office visit id   and rights   order by updated date desc ps set long 1 ovid ps set string 2 lab procedure bean allow result set rs  ps execute query lab procedure loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   list lab procedure bean get lab procedures for patient for next month long id db exception  connection conn  null prepared statement ps  null  id  0 l sql exception patient mid cannot be null conn  factory get connection ps  conn prepare statement select  from lab procedure where patient mid   and rights   and status   and date diff sysdate updated date  30 order by updated date desc ps set long 1 id ps set string 2 lab procedure bean allow ps set string 3 lab procedure bean completed result set rs  ps execute query lab procedure loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   lab procedure bean get lab procedure long id db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from lab procedure where laboratory procedure id   ps set long 1 id result set rs  ps execute query rs next lab procedure loader load single rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   list lab procedure bean get all lab procedures date long mid db exception  connection conn  null prepared statement ps  null  mid  0 l sql exception patient mid cannot be null conn  factory get connection ps  conn prepare statement select  from lab procedure where patient mid   order by updated date desc ps set long 1 mid result set rs  ps execute query lab procedure loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   list lab procedure bean get all lab procedures for doc ov long mid ovid db exception  connection conn  null prepared statement ps  null  mid  0 l sql exception patient mid cannot be null conn  factory get connection ps  conn prepare statement select  from lab procedure where patient mid   and office visit id   order by updated date desc ps set long 1 mid ps set long 2 ovid result set rs  ps execute query lab procedure loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   list lab procedure bean get all lab procedures for doc ov long ovid db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from lab procedure where office visit id    ps set long 1 ovid result set rs  ps execute query lab procedure loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   list lab procedure bean get all lab procedures db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from lab procedure order by updated date asc result set rs  ps execute query lab procedure loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   list lab procedure bean get hcp lab procedures long mid db exception  connection conn  null prepared statement ps  null  mid  0 l sql exception hcp id cannot be null conn  factory get connection ps  conn prepare statement select  from lab procedure where lab procedure office visit id in   select office visits id from office visits where office visits hcpid    ps set long 1 mid result set rs  ps execute query lab procedure loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   list lab procedure bean get lab procedures long mid pid db exception  connection conn  null prepared statement ps  null  mid  0 l sql exception hcp id cannot be null pid  0 l sql exception hcp id cannot be null conn  factory get connection ps  conn prepare statement select  from lab procedure where lab procedure office visit id in   select office visits id from office visits where    office visits hcpid   and office visits patient id    ps set long 1 mid ps set long 2 pid result set rs  ps execute query lab procedure loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   get hcp pending count long mid db exception  connection conn  null prepared statement ps  null  count  0 conn  factory get connection ps  conn prepare statement select count from lab procedure where status   and lab procedure office visit id in   select office visits id from office visits where office visits hcpid    ps set string 1 lab procedure bean pending ps set long 2 mid result set rs  ps execute query rs next  count  rs get int 1  count  sql exception e  e print stack trace db exception e   db util close connection conn ps   list lab procedure bean get lab procedures for lhcp for next month long ovid db exception  connection conn  null prepared statement ps  null  ovid  0 l sql exception office visit id cannot be null conn  factory get connection ps  conn prepare statement select  from lab procedure where office visit id   and status   and date diff sysdate updated date  30 order by updated date desc ps set long 1 ovid ps set string 2 lab procedure bean completed result set rs  ps execute query lab procedure loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   add lab procedure lab procedure bean b db exception  connection conn  null prepared statement ps  null  b get pid  0 l sql exception patient mid cannot be null conn  factory get connection ps  conn prepare statement insert into lab procedure   patient mid laboratory procedure code status commentary   results office visit id rights lab tech id priority code   numerical results lower bound upper bound   values  ps set long 1 b get pid ps set string 2 b get loinc ps set string 3 b get status ps set string 4 b get commentary ps set string 5 b get results ps set long 6 b get ov id ps set string 7 b get rights ps set long 8 b get ltid ps set int 9 b get priority code ps set string 10 b get numerical result ps set string 11 b get lower bound ps set string 12 b get upper bound ps execute update db util get last insert conn  sql exception e  e print stack trace db exception e   db util close connection conn ps   update lab procedure lab procedure bean b db exception  connection conn  null prepared statement ps  null  b get pid  0 l sql exception patient mid cannot be null conn  factory get connection ps  conn prepare statement update lab procedure set   status   commentary   results   updated date     lab tech id   priority code    numerical results     lower bound   upper bound     where laboratory procedure id ps set string 1 b get status ps set string 2 b get commentary ps set string 3 b get results ps set timestamp 4 java sql timestamp system current time millis ps set long 5 b get ltid ps set int 6 b get priority code ps set string 7 b get numerical result ps set string 8 b get lower bound ps set string 9 b get upper bound ps set long 10 b get procedure id ps execute update  sql exception e  e print stack trace db exception e   db util close connection conn ps   mark viewed lab procedure bean b db exception  connection conn  null prepared statement ps  null  b get pid  0 l sql exception patient mid cannot be null conn  factory get connection ps  conn prepare statement update lab procedure set viewed by patient   where laboratory procedure id ps set boolean 1 b is viewed by patient ps set long 2 b get procedure id ps execute update  sql exception e  e print stack trace db exception e   db util close connection conn ps   get patient unviewed count long pid db exception  connection conn  null prepared statement ps  null  pid  0 l sql exception patient mid cannot be null count  0 conn  factory get connection ps  conn prepare statement select count from lab procedure where patient mid   and rights   and status   and viewed by patient  false  ps set long 1 pid ps set string 2 lab procedure bean allow ps set string 3 lab procedure bean completed result set rs  ps execute query rs next  count  rs get int 1  count  sql exception e  e print stack trace db exception e   db util close connection conn ps   list lab procedure bean get all lab procedures loinc long id string loinc db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from lab procedure where patient mid   and laboratory procedure code   and status   ps set long 1 id ps set string 2 loinc ps set string 3 completed result set rs  ps execute query lab procedure loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   update rights lab procedure bean b db exception  connection conn  null prepared statement ps  null  b get pid  0 l sql exception patient mid cannot be null conn  factory get connection ps  conn prepare statement update lab procedure set rights   updated date   where laboratory procedure id ps set string 1 b get rights ps set timestamp 2 java sql timestamp system current time millis ps set long 3 b get procedure id ps execute update  sql exception e  e print stack trace db exception e   db util close connection conn ps   remove lab procedure long procedure id db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement delete from labprocedure where laboratory procedure id  ps set long 1 procedure id ps execute update  sql exception e  e print stack trace db exception e   db util close connection conn ps   list lab procedure bean get lab procedures in transit for lab tech long id db exception  connection conn  null prepared statement ps  null  id  0 l sql exception lab tech id cannot be null conn  factory get connection ps  conn prepare statement select  from lab procedure where lab tech id   and status   order by updated date asc ps set long 1 id ps set string 2 lab procedure bean in transit result set rs  ps execute query lab procedure loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   list lab procedure bean get lab procedures received for lab tech long id db exception  connection conn  null prepared statement ps  null  id  0 l sql exception lab tech id cannot be null conn  factory get connection ps  conn prepare statement select  from lab procedure where lab tech id   and status   order by priority code asc updated date desc ps set long 1 id ps set string 2 lab procedure bean received result set rs  ps execute query lab procedure loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   list lab procedure bean get lab procedures testing for lab tech long id db exception  connection conn  null prepared statement ps  null  id  0 l sql exception lab tech id cannot be null conn  factory get connection ps  conn prepare statement select  from lab procedure where lab tech id   and status   order by updated date desc ps set long 1 id ps set string 2 lab procedure bean testing result set rs  ps execute query lab procedure loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   get lab tech queue size long mid db exception  connection conn  null prepared statement ps  null  mid  0 l sql exception lab tech id cannot be null conn  factory get connection count  0 ps  conn prepare statement select count from lab procedure where lab tech id   and status   or status   ps set long 1 mid ps set string 2 lab procedure bean in transit ps set string 3 lab procedure bean received result set rs  ps execute query rs next  count  rs get int 1  count  sql exception e  e print stack trace db exception e   db util close connection conn ps   int get lab tech queue size by priority long mid db exception  connection conn  null prepared statement ps  null int sizes  int 4  mid  0 l sql exception lab tech id cannot be null conn  factory get connection for int i 1 i 3 i  count  0 ps  conn prepare statement select count from lab procedure where lab tech id   and status   or status   and priority code   ps set long 1 mid ps set string 2 lab procedure bean in transit ps set string 3 lab procedure bean received ps set int 4 i result set rs  ps execute query rs next  count  rs get int 1  sizes i  count  sizes  sql exception e  e print stack trace db exception e   db util close connection conn ps   submit test results long id string numerical result string numerical result unit string upper string lower db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement update lab procedure set numerical results   numerical results unit   upper bound   lower bound   status   updated date   where laboratory procedure id ps set string 1 numerical result ps set string 2 numerical result unit ps set string 3 upper ps set string 4 lower ps set string 5 pending ps set timestamp 6 java sql timestamp system current time millis ps set long 7 id ps execute update  sql exception e  e print stack trace db exception e   db util close connection conn ps   submit received lp long id db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement update lab procedure set status   updated date   where laboratory procedure id ps set string 1 received ps set timestamp 2 java sql timestamp system current time millis ps set long 3 id ps execute update  sql exception e  e print stack trace db exception e   db util close connection conn ps   set lp to testing long id db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement update lab procedure set status   updated date   where laboratory procedure id ps set string 1 testing ps set timestamp 2 java sql timestamp system current time millis ps set long 3 id ps execute update  sql exception e  e print stack trace db exception e   db util close connection conn ps   list lab procedure bean get all lab procedures loinc long id db exception  connection conn  null prepared statement ps  null  id  0 l sql exception patient mid cannot be null conn  factory get connection ps  conn prepare statement select  from lab procedure where patient mid   order by laboratory procedure code asc ps set long 1 id result set rs  ps execute query lab procedure loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   