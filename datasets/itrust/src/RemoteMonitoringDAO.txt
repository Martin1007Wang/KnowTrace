remote monitoring dao  dao factory factory remote monitoring data bean loader loader  remote monitoring data bean loader remote monitoring lists bean loader rm list loader  remote monitoring lists bean loader personnel loader personnel loader  personnel loader remote monitoring dao dao factory factory  this factory  factory  list telemedicine bean get telemedicine bean long patient mid db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from remote monitoring lists where patient mid ps set long 1 patient mid result set rs  ps execute query rm list loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   list remote monitoring data bean get patients data long logged in mid db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from remote monitoring lists where hcpmid order by patient mid ps set long 1 logged in mid result set patient rs  ps execute query ps  conn prepare statement select  from remote monitoring data where timelogged  current date order by patient id time logged desc result set data rs  ps execute query list string patient list  array list string while patient rs next  patient list add patient rs get long patient mid    list remote monitoring data bean data list  loader load list data rs i j for i  0 i  data list size i  if patient list contains data list get i get patient mid    data list remove i i   its there for i  0 i  patient list size i  its there  false for j  0 j  data list size j  if data list get j get patient mid  equals patient list get i  its there  true break   if its there  data list add new remote monitoring data bean long parse long patient list get i   data list  sql exception e  e print stack trace db exception e   db util close connection conn ps   list remote monitoring data bean get patient data by date long patient mid date lower date upper db exception connection conn  null prepared statement ps  null try conn  factory get connection ps  conn prepare statement select  from remotemonitoringdata where patient id and time logged   and time logged   order by time logged desc ps set long 1 patient mid ps set timestamp 2 timestamp lower get time ps set timestamp 3 timestamp upper get time  1000 l  60 l  60  24 l result set rs  ps execute query list remote monitoring data bean data list  loader load list rs data list catch sql exception e  e print stack trace db exception e   db util close connection conn ps   list remote monitoring data bean get patient data by type long patient mid string data type db exception connection conn  null prepared statement ps  null try conn  factory get connection ps  conn prepare statement select  from remotemonitoringdata where patient id and data type  1 order by time logged asc ps set long 1 patient mid result set rs  ps execute query list remote monitoring data bean data list  loader load list rs data list catch sql exception e  e print stack trace db exception e   db util close connection conn ps   store patient data long patient mid remote monitoring data bean bean string reporter role reporter mid db exception i trust exception  height  bean get height weight  bean get weight pedometer  bean get pedometer reading sbp  bean get systolic blood pressure dbp  bean get diastolic blood pressure glucose  bean get glucose level height  0 height  1 weight  0 weight  1 pedometer  0 pedometer  1 sbp  0 sbp  1 dbp  0 dbp  1 glucose  0 glucose  1 get number of daily entries patient mid height  1  height  1 i trust exception patient height entries today cannot exceed 1 get number of daily entries patient mid weight  1  weight  1 i trust exception patient weight entries today cannot exceed 1 get number of daily entries patient mid pedometer reading  1  pedometer  1 i trust exception patient pedometer reading entries today cannot exceed 1 get number of daily entries patient mid glucose level  10  glucose  1 i trust exception patient glucose level entries today cannot exceed 10 get number of daily entries patient mid systolic blood pressure  10  sbp  1 i trust exception patient systolic blood pressure entries today cannot exceed 10 get number of daily entries patient mid diastolic blood pressure  10  dbp  1 i trust exception patient diastolic blood pressure entries today cannot exceed 10 if reporter role equals patient representative validate pr reporter mid patient mid connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement insert into remote monitoring data patient id height weight   pedometer reading systolic blood pressure diastolic blood pressure glucose level reporter role reporter id values ps set long 1 patient mid ps set float 2 height ps set float 3 weight ps set int 4 pedometer ps set int 5 sbp ps set int 6 dbp ps set int 7 glucose ps set string 8 reporter role ps set long 9 reporter mid ps execute update  sql exception e  e print stack trace db exception e   db util close connection conn ps   get number of daily entries long patient mid string data type db exception connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from remote monitoring data where patient id and   data type   and date time logged current date ps set long 1 patient mid ps set int 2 1 result set rs  ps execute query list remote monitoring data bean patients  loader load list rs patients size  sql exception e  e print stack trace db exception e   db util close connection conn ps   validate pr long representative mid patient mid i trust exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from representatives where representer mid and representee mid ps set long 1 representative mid ps set long 2 patient mid result set rs  ps execute query if rs next i trust exception representer is not valid patient   patient mid  sql exception e  e print stack trace db exception e   db util close connection conn ps   list personnel bean get monitoring hc ps long patient mid db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from personnel remote monitoring lists   where remote monitoring lists patient mid and remote monitoring lists hcpmid personnel mid ps set long 1 patient mid result set rs  ps execute query personnel loader load list rs  sql exception e  e print stack trace db exception e   db util close connection conn ps   add patient to list long patient mid hcpmid telemedicine bean t bean db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement select  from remote monitoring lists where patient mid   and hcpmid   ps set long 1 patient mid ps set long 2 hcpmid result set rs  ps execute query if rs next false string permission ps  systolic blood pressure diastolic blood pressure glucose level height weight pedometer reading ps  conn prepare statement insert into remote monitoring lists patient mid hcpmid   permission ps   values ps set long 1 patient mid ps set long 2 hcpmid ps set boolean 3 t bean is systolic blood pressure allowed ps set boolean 4 t bean is diastolic blood pressure allowed ps set boolean 5 t bean is glucose level allowed ps set boolean 6 t bean is height allowed ps set boolean 7 t bean is weight allowed ps set boolean 8 t bean is pedometer reading allowed ps execute update true  sql exception e  e print stack trace db exception e   db util close connection conn ps   remove patient from list long patient mid hcpmid db exception  connection conn  null prepared statement ps  null  conn  factory get connection ps  conn prepare statement delete from remote monitoring lists where patient mid   and hcpmid   ps set long 1 patient mid ps set long 2 hcpmid if ps execute update  0 false true  sql exception e  e print stack trace db exception e   db util close connection conn ps   