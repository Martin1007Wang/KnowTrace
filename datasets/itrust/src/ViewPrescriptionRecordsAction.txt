view prescription records action  patient dao patient dao personnel dao personnel dao email util emailer logged in mid view prescription records action dao factory factory logged in mid  this emailer  email util factory this patient dao  factory get patient dao this personnel dao  factory get personnel dao this logged in mid  logged in mid  patient bean get patient long patient id i trust exception  patient dao get patient patient id  list patient bean get representees i trust exception  patient dao get represented logged in mid  personnel bean get prescribing doctor prescription bean prescription i trust exception  personnel dao get prescribing doctor prescription  list prescription bean get prescriptions for patient long patient id i trust exception  patient bean patient  patient dao get patient patient id logged in mid  patient id  patient dao get prescriptions patient id  list string to list  array list string to list add patient get email list patient bean representatives  patient dao get representing patient id for patient bean representative  representatives  logged in mid  representative get mid  patient dao get prescriptions patient id  to list add representative get email  list personnel bean dlhcps  patient dao get declared hc ps patient id for personnel bean dlhcp  dlhcps  logged in mid  dlhcp get mid  patient dao get prescriptions patient id  list personnel bean uaps  personnel dao get ua ps for hcp dlhcp get mid for personnel bean uap  uaps  logged in mid  uap get mid  patient dao get prescriptions patient id    email email  email email set to list to list email set from noreply itrust com email set subject messages get string view prescription records action 1 email set body messages get string view prescription records action 2 emailer send email email patient dao get prescriptions patient id  