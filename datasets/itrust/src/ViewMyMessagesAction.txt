view my messages action  logged in mid patient dao patient dao personnel dao personnel dao message dao message dao referral dao referral dao view my messages action dao factory factory logged in mid  this logged in mid  logged in mid this patient dao  factory get patient dao this personnel dao  factory get personnel dao this message dao  factory get message dao this referral dao  factory get referral dao  list message bean get all my messages sql exception  message dao get messages for logged in mid  list message bean get all my messages time ascending sql exception  message dao get messages time ascending logged in mid  list message bean get all my messages name ascending sql exception  message dao get messages name ascending logged in mid  list message bean get all my messages name descending sql exception  message dao get messages name descending logged in mid  list message bean get all my sent messages sql exception  message dao get messages from logged in mid  list message bean get all my sent messages time ascending sql exception  message dao get messages from time ascending logged in mid  list message bean get all my sent messages name ascending sql exception  message dao get messages from name ascending logged in mid  list message bean get all my sent messages name descending sql exception  message dao get messages from name descending logged in mid  string validate and create filter string filter  string f  filter split 1 date format format  simple date format mm dd yyyy date s  null date en  null  if f 4 equals s  format parse f 4 if f 5 equals en  format parse f 5 if s null  en null  en before s  error the end date cannot be before the start date   catch exception e  error a date was not formatted correctly please enter dates as mm dd yyyy  for int i 0 i f length i  f i f i replace  f i f i replace f i f i replace  string nf  f 0 f 1 f 2 f 3 f 4 f 5 nf  list message bean filter messages list message bean messages string filter i trust exception parse exception  list message bean filtered  array list message bean string f  filter split 1 for message bean m  messages  if f 0 equals  if this get name m get from equals ignore case f 0 continue  if f 1 equals  if m get subject equals ignore case f 1 continue  if f 2 equals  if m get subject to lower case contains f 2 to lower case  m get body to lower case contains f 2 to lower case continue  if f 3 equals  if m get subject to lower case contains f 3 to lower case  m get body to lower case contains f 3 to lower case continue  if f 4 equals  date format format  simple date format mm dd yyyy date s  format parse f 4 if s after m get sent date continue  if f 5 equals  date format format  simple date format mm dd yyyy date s  format parse f 5 calendar c  calendar get instance c set time s c add calendar day of month 1 s  c get time if s before m get sent date continue  filtered add m  filtered  string get name long mid i trust exception  if mid  7000000000 l patient dao get name mid personnel dao get name mid  string get personnel name long mid i trust exception  personnel dao get name mid  set read message bean m bean   message dao update read m bean  db exception e  e print stack trace   get unread count sql exception  list message bean messages  get all my messages count  0 message bean mb messages  mb get read  0  count   count  linked to referral long id db exception  referral dao is referral message id  