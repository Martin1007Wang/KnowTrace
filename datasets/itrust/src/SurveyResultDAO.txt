survey result dao  dao factory factory survey result bean loader loader survey result dao dao factory factory  this factory  factory this loader  survey result bean loader  list survey result bean get survey results for zip string zip string specialty db exception  connection conn  null prepared statement ps  null string buffer sql  string buffer sql append select p mid p firstname p lastname p address 1 p address 2 p city p state p zip p specialty  sql append na hospital id  sql append avg s waiting room minutes avg waiting room minutes  sql append avg s exam room minutes avg exam room minutes  sql append avg s visit satisfaction avg visit satisfaction  sql append avg s treatment satisfaction avg treatment satisfation  sql append count   sql append select count from personnel p 1 officevisits v 1  sql append where v 1 hcpid  p 1 mid  sql append and substr p 1 zip 1 3    sql append and p 1 mid  p mid  100 percent satisfaction results  sql append from ovsurvey s personnel p officevisits v  sql append where s visitid  v id  sql append and v hcpid  p mid  sql append and substr p zip 1 3    specialty equals survey result bean any specialty sql append and specialty   sql append group by p mid p firstname p lastname p address 1 p address 2 p city p state p zip hospital id  specialty equals survey result bean any specialty sql append p specialty  sql append order by p mid   conn  factory get connection ps  conn prepare statement sql to string ps set string 1 zip substring 0 3 ps set string 2 zip substring 0 3 specialty equals survey result bean any specialty ps set string 3 specialty loader load list ps execute query  sql exception e  e print stack trace db exception e   db util close connection conn ps   list survey result bean get survey results for hospital string hospital id string specialty db exception  connection conn  null prepared statement ps  null string buffer sql  string buffer sql append select p mid p firstname p lastname p address 1 p address 2 p city p state p zip p specialty  sql append h hosid hospital id  sql append avg s waiting room minutes avg waiting room minutes  sql append avg s exam room minutes avg exam room minutes  sql append avg s visit satisfaction avg visit satisfaction  sql append avg s treatment satisfaction avg treatment satisfation  sql append count   sql append select count from personnel p 1 officevisits v 1 hcp assigned hos h 1  sql append where v 1 hcpid  p 1 mid  sql append and v 1 hcpid  h 1 hcpid  sql append and h 1 hosid    sql append and p 1 mid  p mid  100 percent satisfaction results  sql append from ovsurvey s personnel p officevisits v hcp assigned hos h  sql append where s visitid  v id  sql append and v hcpid  p mid  sql append and v hcpid  h hcpid  sql append and h hosid    specialty equals survey result bean any specialty sql append and p specialty   sql append group by p mid p firstname p lastname p address 1 p address 2 p city p state p zip hospital id  specialty equals survey result bean any specialty sql append p specialty  sql append order by p mid   conn  factory get connection ps  conn prepare statement sql to string ps set string 1 hospital id ps set string 2 hospital id specialty equals survey result bean any specialty  ps set string 3 specialty  loader load list ps execute query  sql exception e  e print stack trace db exception e   db util close connection conn ps   